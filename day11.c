#include <stdio.h>
#include <stdlib.h>
#include <string.h>
//
// Created by eurms on 12/20/2023.
//
char * input = ".............................................................................................#..............................................\n"
               "...#....................#............................#......................#........................#...........#................#.........\n"
               "................#.....................................................#..............#.....................#................................\n"
               "................................................................#.......................................................#...................\n"
               ".......#........................#.........................#..............................#.....#............................................\n"
               "............#............................#..................................................................................................\n"
               "......................#........................#......................................................#.....................................\n"
               "....................................#.....................................#.................#..........................................#....\n"
               "................................................................................................................#..............#............\n"
               "...................#.................................................#............................#.........................................\n"
               "............................................#.........#...............................#.................#...................................\n"
               ".....#.....................#..................................................#.............................................................\n"
               "........................................................................#.................#.................................................\n"
               "...............................................................#.....................................................#............#.........\n"
               "..............#.......................#...........................................#.........................................................\n"
               ".......................#.......................#...........................................................#................................\n"
               ".........#........................................................#.........................................................................\n"
               ".........................................................................#................................................................#.\n"
               "............................#..........................#........................#.....#...............................#.....................\n"
               ".....................................#..................................................................#....................#..............\n"
               "#...........................................................................................................................................\n"
               "..........#......................#...........#............#............#....................................................................\n"
               "....................#.........................................................#.................................#...........................\n"
               ".................................................#.............#.....................#..........#......................#..........#.........\n"
               "....................................#.......................................................................................................\n"
               "..........................................#..............................................................................................#..\n"
               "......................#.....................................................................................#.....#.........#...............\n"
               "...........#................#.............................#.............#.....................#.............................................\n"
               "#.................#...............................................#...........#.............................................................\n"
               ".......................................#.................................................#..................................................\n"
               ".....#.......................................#.......................................................#..............................#......#\n"
               "..............#.................#.................#..................#..............#..............................#........................\n"
               "...........................................................................#................................................................\n"
               ".........................#............................#....................................................#................#...............\n"
               ".#..............................................................................#...........................................................\n"
               ".......................................#................................#......................#............................................\n"
               "................#...........#...................#.......................................................................................#...\n"
               "..............................................................#..........................................................#..................\n"
               ".......#......................................................................#.........#.............#.....................................\n"
               ".......................................................#....................................................................................\n"
               "......................#................................................#....................................#.............................#.\n"
               "#.........................................#......................................................................#..........................\n"
               "..................................#................#............................................#.......#...................................\n"
               ".....#.....................#.............................#.............................#....................................................\n"
               "................#...............................................#...........................................................................\n"
               "...............................#................................................#....................#..........................#...........\n"
               "......................................................#....................#................#................#..............................\n"
               "..#..........................................#......................................................................#.......................\n"
               ".............#..............................................................................................................................\n"
               ".......................................................................................................................................#....\n"
               ".......................#..............#...........................#............................#...............#............................\n"
               ".........#..................#...............................................#...........#...................................................\n"
               "......................................................................#........................................................#............\n"
               "..............................................................#....................#...............#......#........#........................\n"
               "..............#...................#.............#.....................................................................................#.....\n"
               "............................................................................................................................................\n"
               ".....................#.....#............#...........#......................................#................................................\n"
               "..........#...................................................................................................................#...........#.\n"
               "...#......................................................................#.....................#................#..........................\n"
               ".............................................#...........................................................................#..................\n"
               "......................................................#...........#................#................#.................................#.....\n"
               ".................................#.....................................#..................#...............#......................#..........\n"
               "............................................................................................................................................\n"
               ".......#..............................................................................................................#.....................\n"
               ".....................#..............#......#.................................................#..............................................\n"
               "..............................#..................................#..............#............................#..............................\n"
               "..........#...............................................#............................#..........................................#.........\n"
               "#.................................................#...................#...........................#.........................................\n"
               ".......................................#....................................................................................................\n"
               ".......#...........................................................................#........................................................\n"
               "................#............................................#............................................#.........#....................#..\n"
               ".......................#........#.........#...............................................................................#.................\n"
               "............................................................................................................................................\n"
               "..#................#........................................................................................................................\n"
               "..........#...........................................#......................................#..............................................\n"
               "............................................................................................................................................\n"
               ".....#.....................................#...................#....................................................................#.......\n"
               ".........................#...........#............#.................................................................#....................#..\n"
               "........................................................#...............#...................................................................\n"
               "............#.................#.................................................#......#..............#.....................................\n"
               ".............................................................................................#................#................#............\n"
               "........................................#.......................#..........................................................................#\n"
               "..#.................#..........................#......................#.............#..............#...................#.............#......\n"
               "............................#............................#................................#......................#..........................\n"
               ".............#.................................................................................#............................................\n"
               ".................................#.........................................#................................................................\n"
               ".........................#.........................#.................................................#........................#.............\n"
               ".......#......................................................#.............................................................................\n"
               "............................................................................................................................................\n"
               "............................................................................................................................................\n"
               ".......................#.........................................................................................#..........................\n"
               "...#...........................#..................................................................#......#................#.................\n"
               "...............................................#................#...........................................................................\n"
               "....................#.................................#.................#.......#..........#........................................#.......\n"
               "...........#.................................................................................................#.............................#\n"
               ".#..................................................................................................#.......................................\n"
               ".....................................#.................................................................................#....................\n"
               "...............#.........#...........................................................#......................................................\n"
               "................................#........................#........#.........................................................................\n"
               "......#..........................................#.............................................................................#............\n"
               "...............................................................................................#.......#....................................\n"
               "...............................................................................................................#............................\n"
               "..............................#...........#............................#.................................................#............#.....\n"
               "...................#...........................#............................................................................................\n"
               "...............................................................#.....................#.....#................................................\n"
               "........#.................#.......................................................................................#...........#.............\n"
               "...............#............................#.........#.......................#...........................#.................................\n"
               ".#...................................#...................................#................................................................#.\n"
               ".........................................................................................#...........................................#......\n"
               "........................#...................................................................................................................\n"
               "....................................................................................................................#.......................\n"
               "........................................#.....#.........#.........#.........................................................................\n"
               ".......................................................................................#............#.......................................\n"
               ".#..............................#.............................................................#........................#.....#.....#........\n"
               "............#...............................................................#.................................#.........................#...\n"
               "..............................................................#.........................................#...................................\n"
               "........................#..............................#...............#........#.........#.................................................\n"
               "...................#........................#.......................................................................#.......................\n"
               ".......................................#...................................................................#................................\n"
               "..............#..................#..............#...................................................................................#.......\n"
               "........#......................................................#..............#.................#.........................................#.\n"
               "....................................................................#.......................................................#...............\n"
               ".............................#..........................................................................#...................................\n"
               ".................#..................................................................#.......................................................\n"
               "............................................#..........................#............................................#..............#........\n"
               "......#..............#..........................................#...........#..............................#................................\n"
               "............#.....................#.................................................................#.......................................\n"
               "...........................#.............#...............#..................................................................#...............\n"
               "#....................................................................................................................................#......\n"
               ".............................................................#.....................#........................................................\n"
               ".......#..........................................#.................#....................................#........#.......................#.\n"
               "..........................................................................................#.................................................\n"
               "..........................#..............................................#......................#...........................................\n"
               "...............................#.....................#..........................#.............................#.............................\n"
               "....#......#................................................#..........................#.......................................#............\n"
               "..................#.............................#...........................................................................................\n"
               "...........................................#..................................................#.............................................\n"
               ".......................#...........................................#...................................................#...................#\n"
               ".......#......#.............#.........................#..................#..............................#...........................#.......\n"
               "..#..............................................................................................................#..........................\n";

long long part1(char * string) {
    long line_len = strchr(string, '\n') - string;
    int line_count = 0;
    for (char* tmp = string; *tmp != '\0'; *tmp++=='\n'&&++line_count);
    int star_count = 0;
    for (char* tmp = string; *tmp != '\0'; *tmp++=='#'&&++star_count);
    char ** lines = malloc(line_count * sizeof(char*));
    lines[0] = strtok(strdup(string), "\n");
    for (int i = 1; i < line_len; ++i) lines[i] = strtok(NULL, "\n");
    int * doubled_rows = malloc(line_count * sizeof(int));
    int * doubled_cols = malloc(line_len * sizeof(int));
    int row_count = 0;
    int col_count = 0;
    int * star_xs = malloc(sizeof(int) * star_count);
    int * star_ys = malloc(sizeof(int) * star_count);
    for (int i = 0, k = 0; i < line_count; ++i)
        for (int j = 0, found = 0; j < line_len ||(!found && (doubled_rows[row_count++] = i) && 0); ++j)
            if (lines[i][j] == '#') {
                star_xs[k] = j;
                star_ys[k++] = i;
                found = 1;
            }
    for (int j = 0; j < line_len; ++j)
        for (int i = 0, found = 0; i < line_count || (!found && (doubled_cols[col_count++] = j) && 0); ++i)
            if (lines[i][j] == '#') found = 1;
//    for (int i = 0; i < star_count; ++i) printf("%d, %d\n", star_xs[i], star_ys[i]);
//    for (int i = 0; i < row_count; ++i) printf("d%d\n", doubled_rows[i]);
//    for (int i = 0; i < col_count; ++i) printf("c%d\n", doubled_cols[i]);
    long long total = 0;
    for (int i = 0; i < star_count; ++i)
        for (int j = i + 1; j < star_count; ++j) {
            int dist = abs(star_xs[i] - star_xs[j]) + abs(star_ys[i] - star_ys[j]);
            for (int k = 0; k < row_count; ++k)
                if((doubled_rows[k] > star_ys[i] && doubled_rows[k] < star_ys[j]) || (doubled_rows[k] < star_ys[i] && doubled_rows[k] > star_ys[j]))
                    dist+=1000000 -1;
            for (int k = 0; k < col_count; ++k)
                if((doubled_cols[k] > star_xs[i] && doubled_cols[k] < star_xs[j]) || (doubled_cols[k] < star_xs[i] && doubled_cols[k] > star_xs[j]))
                    dist+=1000000 -1;
//            dist+=1;
            total += dist;
//            printf("Distance from (%d, %d) to (%d, %d): %d\n", star_xs[i], star_ys[i], star_xs[j], star_ys[j], dist);
        }

    return total;
}

int main() {
    printf("%lld", part1(input));
}